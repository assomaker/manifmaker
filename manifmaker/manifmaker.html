<head>
    <title>manifmaker</title>
</head>

<body>

{{> buttons}}


{{> userList}}
{{> currentAssignment}}
{{> taskList}}
{{> assignmentList}}

{{> assignmentCalendar}}


</body>

<template name="buttons">
    <button id="userToTask">user => task</button>
    <button id="taskToUser">task => user</button>
    <button id="all">all</button>
    <p>{{adviceMessage}}</p>
</template>

<template name="currentAssignment">

    <h2>Current Assignment</h2>
    <div class="name">{{name}}</div>
    {{type}} :
    <ul id="assignment-reference" data-_idreference="{{_idReference}}">
        {{#each timeSlots}}
            <li class="timeslot" data-start="{{start}}" data-end="{{end}}" data-_id="{{_id}}">from {{displayHours start}} to {{displayHours end}}</li>
        {{/each}}
    </ul>


</template>

<template name="userList">
    <h2>Users List</h2>
    <ul>
        {{#each users}}
            <li class="user" data-_id="{{_id}}">
                <div class="name">{{name}}</div>
                Availabilities :
                <ul>
                    {{#each availabilities}}
                        <li>from {{displayHours start}} to {{displayHours end}}</li>
                    {{/each}}
                </ul>
                Assignments :
                <ul>
                    {{#each assignments}}
                        <li>{{taskName}} from {{displayHours start}} to {{displayHours end}}</li>
                    {{/each}}
                </ul>
            </li>
        {{/each}}
    </ul>
</template>

<template name="taskList">
    <h2>Tasks List</h2>
    <ul>
        {{#each tasks}}
            <li class="task" data-_id="{{_id}}">
                <div class="name">{{name}}</div>
                Timeslots :
                <ul>
                    {{#each timeSlots}}
                        <li class="time-slot" data-_id="{{_id}}">from {{displayHours start}} to {{displayHours end}}
                            <ul>
                                {{#each peopleNeeded}}
                                    <li>{{this}}</li>
                                {{/each}}
                            </ul>
                        </li>
                    {{/each}}
                </ul>
                Assignments :
                <ul>
                    {{#each assignments}}
                        <li>{{userName}} from {{displayHours start}} to {{displayHours end}}</li>
                    {{/each}}
                </ul>
            </li>
        {{/each}}
    </ul>
</template>


<template name="assignmentList">
    <h2>Assignments List</h2>
    <ul>
        {{#each assignments}}
            <li>
                <div class="">
                    <div>{{userId}} is assigned to {{taskId}} at timeslot {{timeSlotId}}</div>
                </div>
            </li>
        {{/each}}
    </ul>
</template>

